{
    "$id": "http://registry.appfibre.org/host/node/config.json#",
    "$schema": "http://json-schema.org/draft-07/schema#",
    "description": "JSON configuration for node host",
    "type": "object",
      "properties": {
        "$schema": { "type" : "string" },
        "plugins": {
          "type": "object",
          "additionalProperties": false,
          "patternProperties": {
            "^\\$.*": { "$ref": "#/definitions/plugin_definition" }
          }
        }
    }, "definitions": {
      "plugin_definition": {
        "type": "object",
        "properties": {
          "schema": {"type": "string" },
          "version": {"type": "string"},
          "processors": {"type": "object", "patternProperties": {"[^.]": {"type": "array", "items": {"$ref": "#/definitions/component_definition"}}}}
        }, "additionalProperties": false
      },
      "component_definition": {
        "type": "object",
        "properties": {
          "platforms": { "anyOf": [ {"type": "array", "itesm": {"$ref": "#/definitions/platform"}}, {"$ref": "#/definitions/platform"} ] }
          , "module": { "anyOf": [ {"type": "array", "items": {"$ref": "#/definitions/modulesystem"}}, {"$ref": "#/definitions/modulesystem"} ] }
          , "requires": { "anyOf": [ {"type": "string", "items": {"type": "string"}}, {"type": "string"} ] }
          , "src": { "type": "string"}
        },
        "required": ["src", "module"]
      },
      "platform": {
          "type": "string"
        , "enum": ["Windows","Ubuntu","Debian","RedHat","CentOS","OSX","IBM"]
      },
      "modulesystem": {
        "type": "string"
        , "enum": ["ES","CommonJS","AMD","UMD","IIFE"]
      },
      "additionalProperties": false
    }  
}
  